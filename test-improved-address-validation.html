<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Improved Address Validation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-title {
            color: #2563eb;
            margin-bottom: 15px;
            font-size: 18px;
            font-weight: bold;
        }
        .test-case {
            margin: 15px 0;
            padding: 10px;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
        }
        .test-input {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border: 1px solid #d1d5db;
            border-radius: 4px;
        }
        .test-result {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            font-weight: bold;
        }
        .success {
            background-color: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
        }
        .error {
            background-color: #fee2e2;
            color: #991b1b;
            border: 1px solid #ef4444;
        }
        .warning {
            background-color: #fef3c7;
            color: #92400e;
            border: 1px solid #f59e0b;
        }
        .info {
            background-color: #dbeafe;
            color: #1e40af;
            border: 1px solid #3b82f6;
        }
        .test-button {
            background-color: #2563eb;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background-color: #1d4ed8;
        }
        .description {
            background-color: #f9fafb;
            padding: 10px;
            border-left: 4px solid #3b82f6;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üß™ Test Improved Address Validation</h1>
    <p>Ki·ªÉm tra validation ƒë·ªãa ch·ªâ c·∫£i ti·∫øn v·ªõi c√°c tr∆∞·ªùng h·ª£p:</p>

    <div class="test-container">
        <div class="test-title">üìã Test Cases</div>
        
        <div class="description">
            <strong>Validation Rules:</strong>
            <ul>
                <li>ƒê·ªãa ch·ªâ ph·∫£i c√≥ √≠t nh·∫•t 10 k√Ω t·ª±</li>
                <li>Ph·∫£i ch·ª©a t·ª´ kh√≥a ƒë·ªãa l√Ω: ƒë∆∞·ªùng, ph·ªë, ph∆∞·ªùng, x√£, qu·∫≠n, huy·ªán, th√†nh ph·ªë, t·ªânh, vi·ªát nam</li>
                <li>Kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng</li>
            </ul>
        </div>

        <div class="test-case">
            <h4>Test 1: ƒê·ªãa ch·ªâ qu√° ng·∫Øn</h4>
            <input type="text" class="test-input" id="test1" value="abc" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ...">
            <button class="test-button" onclick="testAddress('test1')">Test</button>
            <div id="result1" class="test-result" style="display: none;"></div>
            <div class="description">
                <strong>Expected:</strong> "ƒê·ªãa ch·ªâ qu√° ng·∫Øn, vui l√≤ng nh·∫≠p ƒë·ªãa ch·ªâ ƒë·∫ßy ƒë·ªß"
            </div>
        </div>

        <div class="test-case">
            <h4>Test 2: ƒê·ªãa ch·ªâ ƒë·ªß d√†i nh∆∞ng kh√¥ng c√≥ t·ª´ kh√≥a ƒë·ªãa l√Ω</h4>
            <input type="text" class="test-input" id="test2" value="hello world this is a long address" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ...">
            <button class="test-button" onclick="testAddress('test2')">Test</button>
            <div id="result2" class="test-result" style="display: none;"></div>
            <div class="description">
                <strong>Expected:</strong> S·∫Ω cho ph√©p geocoding (v√¨ ƒë·ªß d√†i)
            </div>
        </div>

        <div class="test-case">
            <h4>Test 3: ƒê·ªãa ch·ªâ tr·ªëng</h4>
            <input type="text" class="test-input" id="test3" value="" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ...">
            <button class="test-button" onclick="testAddress('test3')">Test</button>
            <div id="result3" class="test-result" style="display: none;"></div>
            <div class="description">
                <strong>Expected:</strong> Kh√¥ng hi·ªÉn th·ªã l·ªói (Save Change s·∫Ω validate)
            </div>
        </div>

        <div class="test-case">
            <h4>Test 4: ƒê·ªãa ch·ªâ h·ª£p l·ªá</h4>
            <input type="text" class="test-input" id="test4" value="123 ƒê∆∞·ªùng ABC, Ph∆∞·ªùng XYZ" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ...">
            <button class="test-button" onclick="testAddress('test4')">Test</button>
            <div id="result4" class="test-result" style="display: none;"></div>
            <div class="description">
                <strong>Expected:</strong> S·∫Ω g·ªçi API ƒë·ªÉ ki·ªÉm tra tr√πng l·∫∑p
            </div>
        </div>

        <div class="test-case">
            <h4>Test 5: ƒê·ªãa ch·ªâ c√≥ t·ª´ kh√≥a ti·∫øng Vi·ªát</h4>
            <input type="text" class="test-input" id="test5" value="1093 T·∫° Quang B·ª≠u, Ph∆∞·ªùng B√¨nh ƒê√¥ng" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ...">
            <button class="test-button" onclick="testAddress('test5')">Test</button>
            <div id="result5" class="test-result" style="display: none;"></div>
            <div class="description">
                <strong>Expected:</strong> S·∫Ω g·ªçi API ƒë·ªÉ ki·ªÉm tra tr√πng l·∫∑p
            </div>
        </div>

        <div class="test-case">
            <h4>Test 6: T√™n ƒë∆∞·ªùng Vi·ªát Nam (T·∫° Quang B·ª≠u)</h4>
            <input type="text" class="test-input" id="test6" value="1093 Ta quang buu" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ...">
            <button class="test-button" onclick="testAddress('test6')">Test</button>
            <div id="result6" class="test-result" style="display: none;"></div>
            <div class="description">
                <strong>Expected:</strong> S·∫Ω cho ph√©p geocoding v√† auto-fill (v√¨ ƒë·ªß d√†i)
            </div>
        </div>
    </div>

    <div class="test-container">
        <div class="test-title">üîß Manual Testing</div>
        <p>M·ªü trang edit garage v√† test th·ªß c√¥ng:</p>
        <ol>
            <li>Nh·∫≠p "abc" ‚Üí Should show "ƒê·ªãa ch·ªâ qu√° ng·∫Øn"</li>
            <li>Nh·∫≠p "hello world this is long enough" ‚Üí Should allow geocoding</li>
            <li>ƒê·ªÉ tr·ªëng ‚Üí Should NOT show error (Save Change will validate)</li>
            <li>Nh·∫≠p "1093 Ta quang buu" ‚Üí Should allow geocoding and auto-fill</li>
        </ol>
    </div>

    <script>
        function validateAddressBasic(address) {
            const trimmedAddress = address.trim();
            
            // Check empty - b·ªè validation tr·ªëng v√¨ Save Change s·∫Ω validate
            if (trimmedAddress.length === 0) {
                return {
                    isValid: true,
                    message: "ƒê·ªãa ch·ªâ tr·ªëng - Save Change s·∫Ω validate"
                };
            }
            
            // Check minimum length
            if (trimmedAddress.length < 10) {
                return {
                    isValid: false,
                    message: "ƒê·ªãa ch·ªâ qu√° ng·∫Øn, vui l√≤ng nh·∫≠p ƒë·ªãa ch·ªâ ƒë·∫ßy ƒë·ªß"
                };
            }
            
            // ƒê∆°n gi·∫£n h√≥a validation - ch·ªâ ki·ªÉm tra ƒë·ªô d√†i
            // Cho ph√©p geocoding v·ªõi b·∫•t k·ª≥ ƒë·ªãa ch·ªâ n√†o ƒë·ªß d√†i
            console.log('‚úÖ Address passed basic validation, allowing geocoding');
            
            return {
                isValid: true,
                message: "ƒê·ªãa ch·ªâ h·ª£p l·ªá, s·∫Ω ki·ªÉm tra tr√πng l·∫∑p..."
            };
        }

        function testAddress(inputId) {
            const input = document.getElementById(inputId);
            const resultDiv = document.getElementById('result' + inputId.replace('test', ''));
            const address = input.value;
            
            const validation = validateAddressBasic(address);
            
            resultDiv.style.display = 'block';
            resultDiv.className = 'test-result';
            
            if (validation.isValid) {
                resultDiv.classList.add('success');
                resultDiv.textContent = `‚úÖ ${validation.message}`;
            } else {
                resultDiv.classList.add('error');
                resultDiv.textContent = `‚ùå ${validation.message}`;
            }
        }

        // Auto-test all cases on load
        window.onload = function() {
            setTimeout(() => {
                ['test1', 'test2', 'test3', 'test4', 'test5', 'test6'].forEach(testId => {
                    testAddress(testId);
                });
            }, 500);
        };
    </script>
</body>
</html>
